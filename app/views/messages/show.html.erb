<%# app/views/messages/show.html.erb %>
<p style="color: green"><%= notice %></p>

<h1>Message Details</h1>

<p>
  <strong>Author:</strong>
  <%= link_to @message.user.full_name, user_path(@message.user) %>
</p>

<p>
  <strong>Chat:</strong>
  <%= link_to @message.chat.chat_participants, chat_path(@message.chat) %>
</p>

<p>
  <strong>Body:</strong><br>
  <%= @message.body %>
</p>

<p>
  <strong>Sent:</strong>
  <%= time_ago_in_words(@message.created_at) %> ago
</p>

<div>
  <%= link_to "Edit this message", edit_message_path(@message) %> |
  <%= link_to "Back to messages", messages_path %>
</div>

<div>
  <% if can? :edit, @message %>
    <%= link_to "Edit this message", edit_message_path(@message) %> |
  <% end %>
  <%= link_to "Back to messages", messages_path %>
  <% if can? :destroy, @message %>
    | <%= button_to 'Delete this message', @message, method: :delete, data: { confirm: 'Are you sure?' } %>
  <% end %>
</div>